<?xml version="1.0" encoding="UTF-8"?>
<proxy xmlns="http://ws.apache.org/ns/synapse"
       name="tradegecko_createStockAdjustmentLineItem"
       transports="https,http"
       statistics="disable"
       trace="disable"
       startOnLoad="true">
    <target>
        <inSequence onError="faultHandlerSeq">
        	<property expression="json-eval($.apiUrl)" name="apiUrl" />
        	<property expression="json-eval($.accessToken)" name="accessToken" />
            <property expression="json-eval($.stockAdjustmentId)" name="stockAdjustmentId"/>
            <property expression="json-eval($.stockAdjustmentLineItemId)" name="stockAdjustmentLineItemId"/>
            <property expression="json-eval($.variantId)" name="variantId"/>
            <property expression="json-eval($.quantity)" name="quantity"/>
            <property expression="json-eval($.position)" name="position"/>
            <tradegecko.init>
            	<apiUrl>{$ctx:apiUrl}</apiUrl>
            	<accessToken>{$ctx:accessToken}</accessToken>
            </tradegecko.init>
            <tradegecko.createStockAdjustmentLineItem>
                <stockAdjustmentId>{$ctx:stockAdjustmentId}</stockAdjustmentId>
                <stockAdjustmentLineItemId>{$ctx:stockAdjustmentLineItemId}</stockAdjustmentLineItemId>
                <variantId>{$ctx:variantId}</variantId>
                <quantity>{$ctx:quantity}</quantity>
                <position>{$ctx:position}</position>
            </tradegecko.createStockAdjustmentLineItem>
            <respond/>
        </inSequence>
        <outSequence>
            <log/>
            <send/>
        </outSequence>
    </target>
    <description/>
</proxy>