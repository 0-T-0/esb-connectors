<?xml version="1.0" ?>
<proxy name="tradegecko_createStockAdjustment" startOnLoad="true" statistics="disable" trace="disable" transports="https,http" xmlns="http://ws.apache.org/ns/synapse">
    <target>
        <inSequence onError="faultHandlerSeq">
            <property expression="json-eval($.apiUrl)" name="apiUrl"/>
            <property expression="json-eval($.accessToken)" name="accessToken"/>
            <property expression="json-eval($.adjustmentNumber)" name="adjustmentNumber"/>
            <property expression="json-eval($.notes)" name="notes"/>
            <property expression="json-eval($.reason)" name="reason"/>
            <property expression="json-eval($.stockAdjustmentLineItems)" name="stockAdjustmentLineItems"/>
            <property expression="json-eval($.stockLocationId)" name="stockLocationId"/>
            <tradegecko.init>
                <apiUrl>{$ctx:apiUrl}</apiUrl>
                <accessToken>{$ctx:accessToken}</accessToken>
            </tradegecko.init>
            <tradegecko.createStockAdjustment>
                <adjustmentNumber>{$ctx:adjustmentNumber}</adjustmentNumber>
                <notes>{$ctx:notes}</notes>
                <reason>{$ctx:reason}</reason>
                <stockAdjustmentLineItems>{$ctx:stockAdjustmentLineItems}</stockAdjustmentLineItems>
                <stockLocationId>{$ctx:stockLocationId}</stockLocationId>
            </tradegecko.createStockAdjustment>
            <respond/>
        </inSequence>
        <outSequence>
            <log/>
            <send/>
        </outSequence>
    </target>
    <description/>
</proxy>