<template name="lookupPaymentResource" xmlns="http://ws.apache.org/ns/synapse">
  <parameter name="id" description="Pass the payment id in the resource URI."/>
  <parameter name="authorization" description="Authorization header value"/>
  <sequence class="sequence">
    <property name="uri.var.id" expression="$func:id"/>
    <payloadFactory media-type="json">
      <format>
  	     {}
 	  </format>
  	</payloadFactory>
    <property name="messageType" scope="axis2" value="application/json" />
    <property xmlns:ns2="http://org.apache.synapse/xsd" xmlns:ns="http://org.apache.synapse/xsd" 
     	xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope" name="Authorization" expression="$func:authorization"
     	scope="transport" type="STRING"/>
    <call>
      <endpoint>
        <http method="get" uri-template="{uri.var.paypalUrl}/v1/payments/payment/{uri.var.id}"/>
      </endpoint>
    </call>
  </sequence>
</template>