<template name="initCommonHeaders" xmlns="http://ws.apache.org/ns/synapse">
	

	<sequence>
		<filter
			xpath="(not(get-property('authenticationCode') = '' or  (not(string(get-property('authenticationCode'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Authorization" expression="get-property('authenticationCode')"
					scope="transport" type="STRING" />
			</then>
		</filter>

		<filter
			xpath="(not(get-property('uri.var.contentLength') = '' or (not(string(get-property('uri.var.contentLength'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Content-Length" expression="get-property('uri.var.contentLength')"
					scope="transport" type="STRING" />

			</then>
		</filter>

		<filter
			xpath="(not(get-property('contentTypeValue') = '' or (not(string(get-property('contentTypeValue'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Content-Type" expression="get-property('contentTypeValue')"
					scope="transport" type="STRING" />

			</then>
		</filter>

		<filter
			xpath="(not(get-property('contentMD5Value') = '' or  (not(string(get-property('contentMD5Value'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Content-MD5" expression="get-property('contentMD5Value')"
					scope="transport" type="STRING" />

			</then>
		</filter>

		<filter
			xpath="(not(get-property('uri.var.expect') = '' or (not(string(get-property('uri.var.expect'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Expect" expression="get-property('expect')" scope="transport"
					type="STRING" />
			</then>
		</filter>

		<filter
			xpath="(not(get-property('uri.var.host') = '' or (not(string(get-property('uri.var.host'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="Host" expression="get-property('host')" scope="transport"
					type="STRING" />
			</then>
		</filter>

		<filter
			xpath="(not(get-property('xAmzDateValue') = '' or  (not(string(get-property('xAmzDateValue'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="x-amz-date" expression="get-property('xAmzDateValue')" scope="transport"
					type="STRING" />

			</then>
		</filter>

		<filter
			xpath="(not(get-property('xAmzSecurityToken') = '' or  (not(string(get-property('xAmzSecurityToken'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd"
					xmlns:ns="http://org.apache.synapse/xsd" xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope"
					name="x-amz-security-token" expression="get-property('xAmzSecurityToken')"
					scope="transport" type="STRING" />

			</then>
		</filter>
		
		
<filter
			xpath="(not(get-property('date') = '' or  (not(string(get-property('date'))))))">
			<then>
				<property xmlns:ns2="http://org.apache.synapse/xsd" xmlns:ns="http://org.apache.synapse/xsd"
					xmlns:soapenv="http://www.w3.org/2003/05/soap-envelope" name="Date"
					expression="get-property('date')" scope="transport" type="STRING" />

			</then>
		</filter>
		

	</sequence>
</template>